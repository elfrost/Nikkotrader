# Guidelines de DÃ©veloppement NIKKOTRADER V11

## ğŸ”§ PrÃ©fÃ©rences Utilisateur

### âœ… Code Existant Prioritaire
- **Modifier le code existant** plutÃ´t que crÃ©er de nouveaux scripts
- **Utiliser** [optimizer.py](mdc:backend/optimizer) existant vs crÃ©er de nouveaux
- **Nettoyer** les scripts inutilisÃ©s aprÃ¨s modifications
- **IntÃ©grer** dans l'architecture existante

### ğŸš« Ã‰viter les Versions SimplifiÃ©es  
- **NE PAS** crÃ©er de versions "ultra-simple" ou "basique"
- **Utiliser** le systÃ¨me intÃ©grÃ© complet uniquement
- **Maintenir** la complexitÃ© appropriÃ©e au trading professionnel

### ğŸ“ Langue de RÃ©ponse
- **Toujours rÃ©pondre en franÃ§ais** selon les rÃ¨gles utilisateur
- **Documentation** en franÃ§ais avec exemples techniques en anglais
- **Commentaires code** en franÃ§ais quand possible

## ğŸ—ï¸ Architecture et Standards

### ğŸ³ Conteneurisation Docker
- **Services isolÃ©s** : Un agent = un container
- **Variables d'environnement** : .env centralisÃ©  
- **Volumes persistants** : PostgreSQL, Redis, Grafana
- **Restart policies** : unless-stopped pour production

### ğŸ“Š Structure des Agents
```python
class BaseAgent:
    def __init__(self, config: AgentConfig):
        self.config = config
        self.metrics = MetricsExporter()
        self.redis_client = Redis()
    
    async def start(self):
        # Initialisation
    
    async def process_signal(self, signal):
        # Logique mÃ©tier
        
    async def stop(self):
        # Nettoyage
```

### ğŸ”„ Versioning et DÃ©ploiement
- **Versioning sÃ©mantique** : v{major}.{minor}.{patch}
- **Backup automatique** avant modifications
- **Tests A/B** nouvelles vs anciennes versions
- **Rollback automatique** si performance < -5%

### ğŸ“ˆ MÃ©triques et Monitoring
- **Prometheus** : Toutes les mÃ©triques business
- **Grafana** : Dashboards temps rÃ©el uniquement
- **Logs structurÃ©s** : JSON avec timestamp, agent, level
- **Alertes** : Telegram pour Ã©vÃ©nements critiques

## ğŸ¯ SpÃ©cificitÃ©s Options Binaires

### âš¡ Timeframes OptimisÃ©s
- **3-5min** : 55.6% des stratÃ©gies (haute frÃ©quence)
- **10-15min** : 33.3% des stratÃ©gies (Ã©quilibre)  
- **30min** : 11.1% des stratÃ©gies (sÃ©lectivitÃ©)

### ğŸ“Š Configuration StratÃ©gies
```json
{
  "confidence_base": 60-80,
  "expiry_minutes": 3-30,
  "market_hours_filter": true,
  "volatility_min": 0.0005,
  "spread_max": 3,
  "avoid_news_minutes": 15-30,
  "win_rate_target": 70
}
```

### ğŸ›¡ï¸ Risk Management
- **Mode forward testing** : Permissif (50% drawdown max)
- **Compte dÃ©mo uniquement** : ICMarkets 51862230
- **Collecte de donnÃ©es** prioritaire sur protection capital
- **500 trades/jour max** pour statistiques robustes
description:
globs:
alwaysApply: false
---
